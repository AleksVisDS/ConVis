function loadConfusionMatrix(b){var a=new FileReader();a.readAsText(b[0]);matrix.name=b[0].name;a.onload=function(g){var f=d3.csvParseRows(g.target.result);matrix.classNames=f[0];matrix.dimension=f.length-1;for(var d=1;d<matrix.dimension+1;d++){for(var c=0;c<matrix.dimension;c++){matrix.data.push(parseInt(f[d][c]))}}startConVis()}}function loadRawData(b){var a=new FileReader();a.readAsText(b[0]);matrix.name=b[0].name;a.onload=function(g){var f=d3.csvParseRows(g.target.result);if(f!=null&&f!=""){for(var c=0;c<f.length;c++){var d=f[c][0];var h=f[c][1];if(!matrix.classNames.includes(d)){matrix.classNames.push(d)}if(!matrix.classNames.includes(h)){matrix.classNames.push(h)}}matrix.dimension=matrix.classNames.length;matrix.data[matrix.dimension*matrix.dimension-1]=0;matrix.data.fill(0);for(var c=0;c<f.length;c++){var d=f[c][0];var h=f[c][1];matrix.data[matrix.classNames.indexOf(d)*matrix.dimension+matrix.classNames.indexOf(h)]++}startConVis()}else{fileReadingError()}}}function startConVis(){var a=false;if(matrix.dimension>200){if(confirm("ConVis is not intended for confusion matrices with more than 200 categories. Loading this file might take a long time or crash your browser. Are you sure you want to proceed?")){a=true}}else{a=true}if(a){if(matrixValid()){analyzeMatrix();drawDashboard()}else{fileReadingError()}}}function matrixValid(){if(matrix.classNames==null){return false}var b=true;if(matrix.classNames.length!=matrix.dimension){b=false}for(var a=0;a<matrix.data.length;a++){if(isNaN(matrix.data[a])){b=false}}return b}function fileReadingError(){alert("File reading error. Please check your file format.")};