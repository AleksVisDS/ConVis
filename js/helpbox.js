var HelpBox=function(b,a){this.width=b;this.canvas=body.select("#helpbox").style("width",b+"px").style("height","auto");this.title=this.canvas.append("span").attr("class","helpboxtitle");this.content=this.canvas.append("span").attr("class","helpboxcontent")};var hBox=new HelpBox(250,200);function drawHelpBox(b,a,c){hBox.canvas.transition().style("opacity","0.95");hBox.canvas.style("left",a+"px").style("top",c+"px");hBox.title.text(helpBoxType[b].title);hBox.content.text(helpBoxType[b].desc)}function removeHelpBox(){hBox.canvas.transition().style("opacity","0")}function addHelpButton(b,a){b.append("span").attr("class","helpbutton").text("?").on("mouseenter",function(){var c=d3.event.pageX;var d=d3.event.pageY;if(c>d3.select("body").property("clientWidth")/2){c-=hBox.width}drawHelpBox(a,c,d)}).on("mouseleave",function(){removeHelpBox()})}var helpBoxType={precision:{title:"Precision = TP/(TP+FP)",desc:"Class-specific measure. A high precision indicates that few false positives occured for this class. In other words, the higher the precision the more predictions for this class were true."},recall:{title:"Recall = Sensitivity = TP/(TP+FN)",desc:"Class-specific measure. A high recall indicates that few false negatives occured for this class. In other words, the higher the recall the more samples of this class were correctly recognized."},totalaccuracy:{title:"Overall accuracy",desc:"The overall accuracy is the percentage of true positives among all samples in the confusion matrix."},totalobservations:{title:"Samples",desc:"The number of samples in the confusion matrix."},classaccuracy:{title:"Class accuracy = TP/(TP+FP+FN)",desc:"It describes the general perfomance of a class on the precision side as well as on the recall side."},databalance:{title:"Data balance",desc:"Data balance refers to the quantitative distribution of the input data classes. Balanced data approximates an equal number of input data for each class."},extrapolationlevel:{title:"Extrapolation level",desc:"The percentage of the data that was generated during the extrapolation process. A high extrapolation level means a less accurate representation of the original data."},extrapolation:{title:"Extrapolation",desc:"During the extrapolation process each row is multiplied by a number greater or equal to 1 until every row sum is approximately equal to the highest original row sum. Those virtual observations reduce the bias created by imbalanced data, but also reduce the accuracy of the representation and significance of the measures and visualizations. This process is irreversible. To restore the original state the original file has to be loaded again."},classaverage:{title:"Samples per class average",desc:"The average number of instances each class was tested. In other words, the average row sum."},classvariance:{title:"Samples per class variance",desc:"The variance of the average row sum. It indicates the degree of data balance."},classmd:{title:"Samples per class mean deviation",desc:"The square root of the variance of the average row sum. It indicates the degree of data balance. The percentage value is the mean deviation divided by the mean, also known as coefficient of variation. It can be used to compare matrices with a different number of observations or other properties."},transpose:{title:"Transpose matrix",desc:"If the confusion matrix data uses a different orientation and rows and columns are flipped, it can be transposed here. This transformation can be reversed by applying it again."},predicted:{title:"Predicted class",desc:"Every class that is predicted by the classifier is a predicted class. A prediction is an instance where the classifier assigns a certain class to a sample. If this overlaps with the actual class then this is called a true positive."},actual:{title:"Actual class",desc:"Every sample that is shown to the classifier has an actual class, also known as expected class. If the actual class overlaps with the predicted class for the sama sample then this is called a true positive."},bias:{title:"Bias",desc:"Too strict: The precision is higher than the recall. High precision with low recall means that the the predictions are accurate for this class, but the classifier often fails to correctly recognize samples of this class. Too sensitive: The recall is higher than the precision. High recall with low precision means that many samples of that class are recognized, but also many other samples which do not belong to this class."},missingdata:{title:"Missing data",desc:"Sometimes there are no samples from a class or the class is never predicted. Especially the first case is a problem, because zero rows inevitably lead to data imbalance and cannot be extrapolated. It is highly recommended to remove such data. The filter helps finding or hiding such empty data lines."},seqnumber:{title:"Sequence number",desc:"The original position of this class within the confusion matrix."},tp:{title:"True positive",desc:"Class-specific value. True positives are observation instances where the prediction overlaps with the actual class of the sample."},fp:{title:"False positive",desc:"Class-specific value. False positives are observation instances where a sample that does not belong to this class was assigned to this class."},fn:{title:"False negative",desc:"Class-specific value. False negative are observation instances where a sample of this class was not recognized and assigned to another class instead."},actualoccur:{title:"Samples",desc:"The number of times a sample of this class was given as input to the classifier."},predictions:{title:"Predictions",desc:"The number of times the classifier predicted this class."},fplist:{title:"False positive distribution",desc:"Where wrong predictions (false positives) for this class were coming from."},fnlist:{title:"False negative distribution",desc:"Where samples of this class were wrongly assigned to."},labelsearch:{title:"Label search",desc:"Higlights classes that include the given string in their label. Delete the input to remove the highlights. If there is only one result then the class detail box will be opened."},heatmapscale:{title:"Heatmap scale",desc:"Defines the scale that is used to convert numbers to colors. It can either be used to make elements in the dark areas of the heatmap visible or to focus the heatmap on the highest values."}};